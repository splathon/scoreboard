<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <link rel="icon" type="image/x-icon" href="./image/logo.png">
  <title>Splathon Scoreboard</title>
</head>
<body>
  <main id="app">
    <ul>
      <li>
        extreme-union-match-1:
        <a href="?ev=extreme-union-match-1&preview">preview</a>
        /
        <a href="?ev=extreme-union-match-1">main</a>
      </li>
      <li>
        open-cup-1:
        <a href="?ev=open-cup-1&preview">preview</a>
        /
        <a href="?ev=open-cup-1">main</a>
      </li>
      <li>
        open-cup-2:
        <a href="?ev=open-cup-2&preview">preview</a>
        /
        <a href="?ev=open-cup-2">main</a>
      </li>
    </ul>
  </main>
  <script>
    (async () => {
      const params = new URLSearchParams(location.search);

      const eventName = params.get('ev');
      if (!eventName) {
        return;
      }

      // show loader
      const $app = document.querySelector('#app');
      $app.innerHTML = "Loading...";

      // this may throw if hash was wrong
      const script = document.createElement('script');
      script.src = `./${eventName}.bundle.js`;
      document.body.append(script);
    })();
  </script>
</body>
</html>
